name: faizar-dev
faizar-dev:
  component: '@sls-next/serverless-component@latest'
  inputs:
    bucketName: faizar-codes
    description: "Lambda@Edge for cube-burst"
    bucketRegion: ap-south-1
    cloudfront:
      distributionId: "E1ZKS6YZHIQHRK"
    name:
      defaultLambda: faizar-lambda
      apiLambda: faizar-lambda
      imageLambda: faizar-lambda
    build:
      env:
        AWS_ACCESS_KEY_ID: ${env.AWS_ACCESS_KEY_ID}
        AWS_SECRET_ACCESS_KEY: ${env.AWS_SECRET_ACCESS_KEY}

    publicDirectoryCache: true
    useServerlessTraceTarget: true
    domain: faizar.codes
    timeout: 30
  plugins:
    - serverless-offline
    - serverless-domain-manager
    - serverless-webpack
    - serverless-webpack-prisma
  package:
    patterns:
      - '!node_modules/.prisma/client/libquery_engine-*'
      - 'node_modules/.prisma/client/libquery_engine-rhel-*'
      - '!node_modules/prisma/libquery_engine-*'
      - '!node_modules/@prisma/engines/**'
  custom:
    webpack:
      includeModules: true
      packagerOptions:
        scripts: